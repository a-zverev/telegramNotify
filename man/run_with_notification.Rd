% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run_with_notification.R
\name{run_with_notification}
\alias{run_with_notification}
\title{Run a function with Telegram notifications}
\usage{
run_with_notification(fun, task_name = "Task", notify_success = FALSE)
}
\arguments{
\item{fun}{A function to wrap.}

\item{task_name}{A character string, name of the task (appears in the notification).}

\item{notify_success}{Logical, whether to send a notification when the function succeeds.}
}
\value{
A wrapped function with the same arguments as `fun`.
}
\description{
Wraps a function so that its execution sends a Telegram notification
on error, and optionally on success.
}
\examples{
\dontrun{
  good_fun <- function(x) x^2
  bad_fun  <- function(x) stop("Oops")

  safe_good <- run_with_notification(good_fun, task_name = "Square", notify_success = TRUE)
  safe_bad  <- run_with_notification(bad_fun,  task_name = "Crasher", notify_success = TRUE)

  safe_good(3) # sends success message
  safe_bad(3)  # sends error message
}
}
